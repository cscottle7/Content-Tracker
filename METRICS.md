# AI Quality Assurance Metrics (METRICS.md)

This document defines the quantitative metrics used by the `@quality_assessor` agent to analyze codebases. The goal is to provide an objective and consistent framework for measuring code quality.

---

### 1. Core Code Quality Metrics

#### 1.1. Maintainability Index
- **Definition:** A composite score that measures the ease of maintaining the code. A higher score is better.
- **Measurement:** Calculated using a formula that incorporates Halstead Volume, Cyclomatic Complexity, and Lines of Code.
- **Scoring Rubric:**
  - **High (Green):** > 20
  - **Moderate (Yellow):** 10-19
  - **Low (Red):** 0-9

#### 1.2. Cyclomatic Complexity
- **Definition:** Measures the number of linearly independent paths through a program's source code. Lower complexity is better.
- **Measurement:** Calculated from the number of decision points (if, while, for, etc.) in a function.
- **Scoring Rubric (per function):**
  - **Low (Green):** 1-5
  - **Moderate (Yellow):** 6-10
  - **High (Red):** > 10

#### 1.3. Code Comment Ratio
- **Definition:** Measures the density of inline documentation. While not a perfect metric, it serves as a proxy for code clarity.
- **Measurement:** (Number of Comment Lines / Total Lines of Code) * 100
- **Scoring Rubric:**
  - **Adequate (Green):** > 20%
  - **Low (Yellow):** 10-19%
  - **Insufficient (Red):** < 10%

#### 1.4. Test Coverage
- **Definition:** The percentage of code lines that are executed by the automated test suite. Higher coverage is better.
- **Measurement:** Data is typically generated by a testing framework's coverage tool (e.g., Jest, PyTest-Cov).
- **Scoring Rubric:**
  - **Excellent (Green):** > 90%
  - **Good (Yellow):** 70-89%
  - **Needs Improvement (Red):** < 70%

### 2. Scoring & Weighting

The `@quality_assessor` will generate a final "Quality Scorecard" by calculating each metric and assigning a score based on the rubric. Each metric is weighted equally by default. Future versions may introduce weighting based on project priorities defined in `CLAUDE.md`.